(function(){const ne=document.createElement("link").relList;if(ne&&ne.supports&&ne.supports("modulepreload"))return;for(const z of document.querySelectorAll('link[rel="modulepreload"]'))he(z);new MutationObserver(z=>{for(const ie of z)if(ie.type==="childList")for(const N of ie.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&he(N)}).observe(document,{childList:!0,subtree:!0});function we(z){const ie={};return z.integrity&&(ie.integrity=z.integrity),z.referrerPolicy&&(ie.referrerPolicy=z.referrerPolicy),z.crossOrigin==="use-credentials"?ie.credentials="include":z.crossOrigin==="anonymous"?ie.credentials="omit":ie.credentials="same-origin",ie}function he(z){if(z.ep)return;z.ep=!0;const ie=we(z);fetch(z.href,ie)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ln={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Ln.exports;(function(oe,ne){(function(we,he){oe.exports=he()})(self,()=>(()=>{var we={227:(N,d,x)=>{var T=x(155);d.formatArgs=function(I){if(I[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+I[0]+(this.useColors?"%c ":" ")+"+"+N.exports.humanize(this.diff),!this.useColors)return;const V="color: "+this.color;I.splice(1,0,V,"color: inherit");let v=0,p=0;I[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(v++,g==="%c"&&(p=v))}),I.splice(p,0,V)},d.save=function(I){try{I?d.storage.setItem("debug",I):d.storage.removeItem("debug")}catch{}},d.load=function(){let I;try{I=d.storage.getItem("debug")}catch{}return!I&&T!==void 0&&"env"in T&&(I=T.env.DEBUG),I},d.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},d.storage=function(){try{return localStorage}catch{}}(),d.destroy=(()=>{let I=!1;return()=>{I||(I=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],d.log=console.debug||console.log||(()=>{}),N.exports=x(447)(d);const{formatters:O}=N.exports;O.j=function(I){try{return JSON.stringify(I)}catch(V){return"[UnexpectedJSONParseError]: "+V.message}}},447:(N,d,x)=>{N.exports=function(T){function O(v){let p,g,y,$=null;function M(...D){if(!M.enabled)return;const B=M,j=Number(new Date),F=j-(p||j);B.diff=F,B.prev=p,B.curr=j,p=j,D[0]=O.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let s=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(c,m)=>{if(c==="%%")return"%";s++;const S=O.formatters[m];if(typeof S=="function"){const W=D[s];c=S.call(B,W),D.splice(s,1),s--}return c}),O.formatArgs.call(B,D),(B.log||O.log).apply(B,D)}return M.namespace=v,M.useColors=O.useColors(),M.color=O.selectColor(v),M.extend=I,M.destroy=O.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>$!==null?$:(g!==O.namespaces&&(g=O.namespaces,y=O.enabled(v)),y),set:D=>{$=D}}),typeof O.init=="function"&&O.init(M),M}function I(v,p){const g=O(this.namespace+(p===void 0?":":p)+v);return g.log=this.log,g}function V(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return O.debug=O,O.default=O,O.coerce=function(v){return v instanceof Error?v.stack||v.message:v},O.disable=function(){const v=[...O.names.map(V),...O.skips.map(V).map(p=>"-"+p)].join(",");return O.enable(""),v},O.enable=function(v){let p;O.save(v),O.namespaces=v,O.names=[],O.skips=[];const g=(typeof v=="string"?v:"").split(/[\s,]+/),y=g.length;for(p=0;p<y;p++)g[p]&&((v=g[p].replace(/\*/g,".*?"))[0]==="-"?O.skips.push(new RegExp("^"+v.slice(1)+"$")):O.names.push(new RegExp("^"+v+"$")))},O.enabled=function(v){if(v[v.length-1]==="*")return!0;let p,g;for(p=0,g=O.skips.length;p<g;p++)if(O.skips[p].test(v))return!1;for(p=0,g=O.names.length;p<g;p++)if(O.names[p].test(v))return!0;return!1},O.humanize=x(824),O.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(T).forEach(v=>{O[v]=T[v]}),O.names=[],O.skips=[],O.formatters={},O.selectColor=function(v){let p=0;for(let g=0;g<v.length;g++)p=(p<<5)-p+v.charCodeAt(g),p|=0;return O.colors[Math.abs(p)%O.colors.length]},O.enable(O.load()),O}},856:function(N){N.exports=function(){function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},d(w)}function x(w,k){return x=Object.setPrototypeOf||function(H,Z){return H.__proto__=Z,H},x(w,k)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(w,k,H){return O=T()?Reflect.construct:function(Z,se,Fe){var Ze=[null];Ze.push.apply(Ze,se);var Ne=new(Function.bind.apply(Z,Ze));return Fe&&x(Ne,Fe.prototype),Ne},O.apply(null,arguments)}function I(w){return V(w)||v(w)||p(w)||y()}function V(w){if(Array.isArray(w))return g(w)}function v(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function p(w,k){if(w){if(typeof w=="string")return g(w,k);var H=Object.prototype.toString.call(w).slice(8,-1);return H==="Object"&&w.constructor&&(H=w.constructor.name),H==="Map"||H==="Set"?Array.from(w):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?g(w,k):void 0}}function g(w,k){(k==null||k>w.length)&&(k=w.length);for(var H=0,Z=new Array(k);H<k;H++)Z[H]=w[H];return Z}function y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=Object.hasOwnProperty,M=Object.setPrototypeOf,D=Object.isFrozen,B=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,F=Object.freeze,s=Object.seal,c=Object.create,m=typeof Reflect<"u"&&Reflect,S=m.apply,W=m.construct;S||(S=function(w,k,H){return w.apply(k,H)}),F||(F=function(w){return w}),s||(s=function(w){return w}),W||(W=function(w,k){return O(w,I(k))});var Y=X(Array.prototype.forEach),re=X(Array.prototype.pop),me=X(Array.prototype.push),xe=X(String.prototype.toLowerCase),Ce=X(String.prototype.match),fe=X(String.prototype.replace),Le=X(String.prototype.indexOf),f=X(String.prototype.trim),b=X(RegExp.prototype.test),P=Oe(TypeError);function X(w){return function(k){for(var H=arguments.length,Z=new Array(H>1?H-1:0),se=1;se<H;se++)Z[se-1]=arguments[se];return S(w,k,Z)}}function Oe(w){return function(){for(var k=arguments.length,H=new Array(k),Z=0;Z<k;Z++)H[Z]=arguments[Z];return W(w,H)}}function R(w,k){M&&M(w,null);for(var H=k.length;H--;){var Z=k[H];if(typeof Z=="string"){var se=xe(Z);se!==Z&&(D(k)||(k[H]=se),Z=se)}w[Z]=!0}return w}function G(w){var k,H=c(null);for(k in w)S($,w,[k])&&(H[k]=w[k]);return H}function ce(w,k){for(;w!==null;){var H=j(w,k);if(H){if(H.get)return X(H.get);if(typeof H.value=="function")return X(H.value)}w=B(w)}function Z(se){return console.warn("fallback value for",se),null}return Z}var je=F(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Se=F(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ze=F(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),et=F(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),de=F(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),le=F(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ke=F(["#text"]),Ae=F(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Te=F(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Me=F(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pe=F(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Lt=s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wt=s(/<%[\w\W]*|[\w\W]*%>/gm),Fn=s(/^data-[\-\w.\u00B7-\uFFFF]/),Nn=s(/^aria-[\-\w]+$/),Pn=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Rn=s(/^(?:\w+script|data):/i),tt=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sn=s(/^html$/i),$n=function(){return typeof window>"u"?null:window},Dn=function(w,k){if(d(w)!=="object"||typeof w.createPolicy!="function")return null;var H=null,Z="data-tt-policy-suffix";k.currentScript&&k.currentScript.hasAttribute(Z)&&(H=k.currentScript.getAttribute(Z));var se="dompurify"+(H?"#"+H:"");try{return w.createPolicy(se,{createHTML:function(Fe){return Fe}})}catch{return console.warn("TrustedTypes policy "+se+" could not be created."),null}};function lt(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$n(),k=function(o){return lt(o)};if(k.version="2.3.8",k.removed=[],!w||!w.document||w.document.nodeType!==9)return k.isSupported=!1,k;var H=w.document,Z=w.document,se=w.DocumentFragment,Fe=w.HTMLTemplateElement,Ze=w.Node,Ne=w.Element,Ve=w.NodeFilter,ut=w.NamedNodeMap,xt=ut===void 0?w.NamedNodeMap||w.MozNamedAttrMap:ut,Mt=w.HTMLFormElement,an=w.DOMParser,cn=w.trustedTypes,ft=Ne.prototype,ln=ce(ft,"cloneNode"),un=ce(ft,"nextSibling"),Un=ce(ft,"childNodes"),nt=ce(ft,"parentNode");if(typeof Fe=="function"){var Ft=Z.createElement("template");Ft.content&&Ft.content.ownerDocument&&(Z=Ft.content.ownerDocument)}var He=Dn(cn,H),fn=He?He.createHTML(""):"",dt=Z,Nt=dt.implementation,dn=dt.createNodeIterator,pn=dt.createDocumentFragment,zn=dt.getElementsByTagName,Pt=H.importNode,hn={};try{hn=G(Z).documentMode?Z.documentMode:{}}catch{}var ye={};k.isSupported=typeof nt=="function"&&Nt&&Nt.createHTMLDocument!==void 0&&hn!==9;var rt,qe,Rt=Lt,$t=wt,Ct=Fn,Ie=Nn,Dt=Rn,pt=tt,Ut=Pn,ge=null,zt=R({},[].concat(I(je),I(Se),I(ze),I(de),I(ke))),ve=null,Ht=R({},[].concat(I(Ae),I(Te),I(Me),I(Pe))),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ht=null,qt=null,Bt=!0,Wt=!0,mn=!1,ot=!1,Q=!1,Gt=!1,Jt=!1,Ke=!1,Be=!1,it=!1,Zt=!0,Ot=!0,Ye=!1,We={},st=null,gn=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vn=null,yn=R({},["audio","video","img","source","image","track"]),Vt=null,St=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",At=Ge,bn=!1,_n=["application/xhtml+xml","text/html"],Hn="text/html",at=null,qn=Z.createElement("form"),jt=function(o){return o instanceof RegExp||o instanceof Function},Yt=function(o){at&&at===o||(o&&d(o)==="object"||(o={}),o=G(o),ge="ALLOWED_TAGS"in o?R({},o.ALLOWED_TAGS):zt,ve="ALLOWED_ATTR"in o?R({},o.ALLOWED_ATTR):Ht,Vt="ADD_URI_SAFE_ATTR"in o?R(G(St),o.ADD_URI_SAFE_ATTR):St,vn="ADD_DATA_URI_TAGS"in o?R(G(yn),o.ADD_DATA_URI_TAGS):yn,st="FORBID_CONTENTS"in o?R({},o.FORBID_CONTENTS):gn,ht="FORBID_TAGS"in o?R({},o.FORBID_TAGS):{},qt="FORBID_ATTR"in o?R({},o.FORBID_ATTR):{},We="USE_PROFILES"in o&&o.USE_PROFILES,Bt=o.ALLOW_ARIA_ATTR!==!1,Wt=o.ALLOW_DATA_ATTR!==!1,mn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=o.SAFE_FOR_TEMPLATES||!1,Q=o.WHOLE_DOCUMENT||!1,Ke=o.RETURN_DOM||!1,Be=o.RETURN_DOM_FRAGMENT||!1,it=o.RETURN_TRUSTED_TYPE||!1,Jt=o.FORCE_BODY||!1,Zt=o.SANITIZE_DOM!==!1,Ot=o.KEEP_CONTENT!==!1,Ye=o.IN_PLACE||!1,Ut=o.ALLOWED_URI_REGEXP||Ut,At=o.NAMESPACE||Ge,o.CUSTOM_ELEMENT_HANDLING&&jt(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&jt(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rt=rt=_n.indexOf(o.PARSER_MEDIA_TYPE)===-1?Hn:o.PARSER_MEDIA_TYPE,qe=rt==="application/xhtml+xml"?function(C){return C}:xe,ot&&(Wt=!1),Be&&(Ke=!0),We&&(ge=R({},I(ke)),ve=[],We.html===!0&&(R(ge,je),R(ve,Ae)),We.svg===!0&&(R(ge,Se),R(ve,Te),R(ve,Pe)),We.svgFilters===!0&&(R(ge,ze),R(ve,Te),R(ve,Pe)),We.mathMl===!0&&(R(ge,de),R(ve,Me),R(ve,Pe))),o.ADD_TAGS&&(ge===zt&&(ge=G(ge)),R(ge,o.ADD_TAGS)),o.ADD_ATTR&&(ve===Ht&&(ve=G(ve)),R(ve,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&R(Vt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(st===gn&&(st=G(st)),R(st,o.FORBID_CONTENTS)),Ot&&(ge["#text"]=!0),Q&&R(ge,["html","head","body"]),ge.table&&(R(ge,["tbody"]),delete ht.tbody),F&&F(o),at=o)},Qt=R({},["mi","mo","mn","ms","mtext"]),wn=R({},["foreignobject","desc","title","annotation-xml"]),Bn=R({},["title","style","font","a","script"]),Et=R({},Se);R(Et,ze),R(Et,et);var Xt=R({},de);R(Xt,le);var Wn=function(o){var C=nt(o);C&&C.tagName||(C={namespaceURI:Ge,tagName:"template"});var _=xe(o.tagName),ee=xe(C.tagName);return o.namespaceURI===kt?C.namespaceURI===Ge?_==="svg":C.namespaceURI===Kt?_==="svg"&&(ee==="annotation-xml"||Qt[ee]):!!Et[_]:o.namespaceURI===Kt?C.namespaceURI===Ge?_==="math":C.namespaceURI===kt?_==="math"&&wn[ee]:!!Xt[_]:o.namespaceURI===Ge&&!(C.namespaceURI===kt&&!wn[ee])&&!(C.namespaceURI===Kt&&!Qt[ee])&&!Xt[_]&&(Bn[_]||!Et[_])},Re=function(o){me(k.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=fn}catch{o.remove()}}},xn=function(o,C){try{me(k.removed,{attribute:C.getAttributeNode(o),from:C})}catch{me(k.removed,{attribute:null,from:C})}if(C.removeAttribute(o),o==="is"&&!ve[o])if(Ke||Be)try{Re(C)}catch{}else try{C.setAttribute(o,"")}catch{}},Cn=function(o){var C,_;if(Jt)o="<remove></remove>"+o;else{var ee=Ce(o,/^[\r\n\t ]+/);_=ee&&ee[0]}rt==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var ue=He?He.createHTML(o):o;if(At===Ge)try{C=new an().parseFromString(ue,rt)}catch{}if(!C||!C.documentElement){C=Nt.createDocument(At,"template",null);try{C.documentElement.innerHTML=bn?"":ue}catch{}}var be=C.body||C.documentElement;return o&&_&&be.insertBefore(Z.createTextNode(_),be.childNodes[0]||null),At===Ge?zn.call(C,Q?"html":"body")[0]:Q?C.documentElement:be},mt=function(o){return dn.call(o.ownerDocument||o,o,Ve.SHOW_ELEMENT|Ve.SHOW_COMMENT|Ve.SHOW_TEXT,null,!1)},Gn=function(o){return o instanceof Mt&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof xt)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},gt=function(o){return d(Ze)==="object"?o instanceof Ze:o&&d(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},$e=function(o,C,_){ye[o]&&Y(ye[o],function(ee){ee.call(k,C,_,at)})},en=function(o){var C;if($e("beforeSanitizeElements",o,null),Gn(o)||b(/[\u0080-\uFFFF]/,o.nodeName))return Re(o),!0;var _=qe(o.nodeName);if($e("uponSanitizeElement",o,{tagName:_,allowedTags:ge}),o.hasChildNodes()&&!gt(o.firstElementChild)&&(!gt(o.content)||!gt(o.content.firstElementChild))&&b(/<[/\w]/g,o.innerHTML)&&b(/<[/\w]/g,o.textContent)||_==="select"&&b(/<template/i,o.innerHTML))return Re(o),!0;if(!ge[_]||ht[_]){if(!ht[_]&&tn(_)&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_)))return!1;if(Ot&&!st[_]){var ee=nt(o)||o.parentNode,ue=Un(o)||o.childNodes;if(ue&&ee)for(var be=ue.length-1;be>=0;--be)ee.insertBefore(ln(ue[be],!0),un(o))}return Re(o),!0}return o instanceof Ne&&!Wn(o)?(Re(o),!0):_!=="noscript"&&_!=="noembed"||!b(/<\/no(script|embed)/i,o.innerHTML)?(ot&&o.nodeType===3&&(C=o.textContent,C=fe(C,Rt," "),C=fe(C,$t," "),o.textContent!==C&&(me(k.removed,{element:o.cloneNode()}),o.textContent=C)),$e("afterSanitizeElements",o,null),!1):(Re(o),!0)},On=function(o,C,_){if(Zt&&(C==="id"||C==="name")&&(_ in Z||_ in qn))return!1;if(!(Wt&&!qt[C]&&b(Ct,C))){if(!(Bt&&b(Ie,C))){if(!ve[C]||qt[C]){if(!(tn(o)&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,o)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(o))&&(ae.attributeNameCheck instanceof RegExp&&b(ae.attributeNameCheck,C)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(C))||C==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&b(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_))))return!1}else if(!Vt[C]){if(!b(Ut,fe(_,pt,""))){if((C!=="src"&&C!=="xlink:href"&&C!=="href"||o==="script"||Le(_,"data:")!==0||!vn[o])&&!(mn&&!b(Dt,fe(_,pt,"")))){if(_)return!1}}}}}return!0},tn=function(o){return o.indexOf("-")>0},vt=function(o){var C,_,ee,ue;$e("beforeSanitizeAttributes",o,null);var be=o.attributes;if(be){var _e={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve};for(ue=be.length;ue--;){var yt=C=be[ue],De=yt.name,K=yt.namespaceURI;if(_=De==="value"?C.value:f(C.value),ee=qe(De),_e.attrName=ee,_e.attrValue=_,_e.keepAttr=!0,_e.forceKeepAttr=void 0,$e("uponSanitizeAttribute",o,_e),_=_e.attrValue,!_e.forceKeepAttr&&(xn(De,o),_e.keepAttr))if(b(/\/>/i,_))xn(De,o);else{ot&&(_=fe(_,Rt," "),_=fe(_,$t," "));var Qe=qe(o.nodeName);if(On(Qe,ee,_))try{K?o.setAttributeNS(K,De,_):o.setAttribute(De,_),re(k.removed)}catch{}}}$e("afterSanitizeAttributes",o,null)}},nn=function o(C){var _,ee=mt(C);for($e("beforeSanitizeShadowDOM",C,null);_=ee.nextNode();)$e("uponSanitizeShadowNode",_,null),en(_)||(_.content instanceof se&&o(_.content),vt(_));$e("afterSanitizeShadowDOM",C,null)};return k.sanitize=function(o,C){var _,ee,ue,be,_e;if((bn=!o)&&(o="<!-->"),typeof o!="string"&&!gt(o)){if(typeof o.toString!="function")throw P("toString is not a function");if(typeof(o=o.toString())!="string")throw P("dirty is not a string, aborting")}if(!k.isSupported){if(d(w.toStaticHTML)==="object"||typeof w.toStaticHTML=="function"){if(typeof o=="string")return w.toStaticHTML(o);if(gt(o))return w.toStaticHTML(o.outerHTML)}return o}if(Gt||Yt(C),k.removed=[],typeof o=="string"&&(Ye=!1),Ye){if(o.nodeName){var yt=qe(o.nodeName);if(!ge[yt]||ht[yt])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Ze)(ee=(_=Cn("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?_=ee:_.appendChild(ee);else{if(!Ke&&!ot&&!Q&&o.indexOf("<")===-1)return He&&it?He.createHTML(o):o;if(!(_=Cn(o)))return Ke?null:it?fn:""}_&&Jt&&Re(_.firstChild);for(var De=mt(Ye?o:_);ue=De.nextNode();)ue.nodeType===3&&ue===be||en(ue)||(ue.content instanceof se&&nn(ue.content),vt(ue),be=ue);if(be=null,Ye)return o;if(Ke){if(Be)for(_e=pn.call(_.ownerDocument);_.firstChild;)_e.appendChild(_.firstChild);else _e=_;return ve.shadowroot&&(_e=Pt.call(H,_e,!0)),_e}var K=Q?_.outerHTML:_.innerHTML;return Q&&ge["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&b(sn,_.ownerDocument.doctype.name)&&(K="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+K),ot&&(K=fe(K,Rt," "),K=fe(K,$t," ")),He&&it?He.createHTML(K):K},k.setConfig=function(o){Yt(o),Gt=!0},k.clearConfig=function(){at=null,Gt=!1},k.isValidAttribute=function(o,C,_){at||Yt({});var ee=qe(o),ue=qe(C);return On(ee,ue,_)},k.addHook=function(o,C){typeof C=="function"&&(ye[o]=ye[o]||[],me(ye[o],C))},k.removeHook=function(o){if(ye[o])return re(ye[o])},k.removeHooks=function(o){ye[o]&&(ye[o]=[])},k.removeAllHooks=function(){ye={}},k}return lt()}()},729:N=>{var d=Object.prototype.hasOwnProperty,x="~";function T(){}function O(p,g,y){this.fn=p,this.context=g,this.once=y||!1}function I(p,g,y,$,M){if(typeof y!="function")throw new TypeError("The listener must be a function");var D=new O(y,$||p,M),B=x?x+g:g;return p._events[B]?p._events[B].fn?p._events[B]=[p._events[B],D]:p._events[B].push(D):(p._events[B]=D,p._eventsCount++),p}function V(p,g){--p._eventsCount==0?p._events=new T:delete p._events[g]}function v(){this._events=new T,this._eventsCount=0}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(x=!1)),v.prototype.eventNames=function(){var p,g,y=[];if(this._eventsCount===0)return y;for(g in p=this._events)d.call(p,g)&&y.push(x?g.slice(1):g);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(p)):y},v.prototype.listeners=function(p){var g=x?x+p:p,y=this._events[g];if(!y)return[];if(y.fn)return[y.fn];for(var $=0,M=y.length,D=new Array(M);$<M;$++)D[$]=y[$].fn;return D},v.prototype.listenerCount=function(p){var g=x?x+p:p,y=this._events[g];return y?y.fn?1:y.length:0},v.prototype.emit=function(p,g,y,$,M,D){var B=x?x+p:p;if(!this._events[B])return!1;var j,F,s=this._events[B],c=arguments.length;if(s.fn){switch(s.once&&this.removeListener(p,s.fn,void 0,!0),c){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,g),!0;case 3:return s.fn.call(s.context,g,y),!0;case 4:return s.fn.call(s.context,g,y,$),!0;case 5:return s.fn.call(s.context,g,y,$,M),!0;case 6:return s.fn.call(s.context,g,y,$,M,D),!0}for(F=1,j=new Array(c-1);F<c;F++)j[F-1]=arguments[F];s.fn.apply(s.context,j)}else{var m,S=s.length;for(F=0;F<S;F++)switch(s[F].once&&this.removeListener(p,s[F].fn,void 0,!0),c){case 1:s[F].fn.call(s[F].context);break;case 2:s[F].fn.call(s[F].context,g);break;case 3:s[F].fn.call(s[F].context,g,y);break;case 4:s[F].fn.call(s[F].context,g,y,$);break;default:if(!j)for(m=1,j=new Array(c-1);m<c;m++)j[m-1]=arguments[m];s[F].fn.apply(s[F].context,j)}}return!0},v.prototype.on=function(p,g,y){return I(this,p,g,y,!1)},v.prototype.once=function(p,g,y){return I(this,p,g,y,!0)},v.prototype.removeListener=function(p,g,y,$){var M=x?x+p:p;if(!this._events[M])return this;if(!g)return V(this,M),this;var D=this._events[M];if(D.fn)D.fn!==g||$&&!D.once||y&&D.context!==y||V(this,M);else{for(var B=0,j=[],F=D.length;B<F;B++)(D[B].fn!==g||$&&!D[B].once||y&&D[B].context!==y)&&j.push(D[B]);j.length?this._events[M]=j.length===1?j[0]:j:V(this,M)}return this},v.prototype.removeAllListeners=function(p){var g;return p?(g=x?x+p:p,this._events[g]&&V(this,g)):(this._events=new T,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=x,v.EventEmitter=v,N.exports=v},717:N=>{typeof Object.create=="function"?N.exports=function(d,x){d.super_=x,d.prototype=Object.create(x.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:N.exports=function(d,x){d.super_=x;var T=function(){};T.prototype=x.prototype,d.prototype=new T,d.prototype.constructor=d}},824:N=>{var d=1e3,x=60*d,T=60*x,O=24*T,I=7*O,V=365.25*O;function v(p,g,y,$){var M=g>=1.5*y;return Math.round(p/y)+" "+$+(M?"s":"")}N.exports=function(p,g){g=g||{};var y=typeof p;if(y==="string"&&p.length>0)return function($){if(!(($=String($)).length>100)){var M=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(M){var D=parseFloat(M[1]);switch((M[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return D*V;case"weeks":case"week":case"w":return D*I;case"days":case"day":case"d":return D*O;case"hours":case"hour":case"hrs":case"hr":case"h":return D*T;case"minutes":case"minute":case"mins":case"min":case"m":return D*x;case"seconds":case"second":case"secs":case"sec":case"s":return D*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(p);if(y==="number"&&isFinite(p))return g.long?function($){var M=Math.abs($);return M>=O?v($,M,O,"day"):M>=T?v($,M,T,"hour"):M>=x?v($,M,x,"minute"):M>=d?v($,M,d,"second"):$+" ms"}(p):function($){var M=Math.abs($);return M>=O?Math.round($/O)+"d":M>=T?Math.round($/T)+"h":M>=x?Math.round($/x)+"m":M>=d?Math.round($/d)+"s":$+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},520:(N,d,x)=>{var T=x(155),O=T.platform==="win32",I=x(539);function V(s,c){for(var m=[],S=0;S<s.length;S++){var W=s[S];W&&W!=="."&&(W===".."?m.length&&m[m.length-1]!==".."?m.pop():c&&m.push(".."):m.push(W))}return m}function v(s){for(var c=s.length-1,m=0;m<=c&&!s[m];m++);for(var S=c;S>=0&&!s[S];S--);return m===0&&S===c?s:m>S?[]:s.slice(m,S+1)}var p=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,g=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,y={};function $(s){var c=p.exec(s),m=(c[1]||"")+(c[2]||""),S=c[3]||"",W=g.exec(S);return[m,W[1],W[2],W[3]]}function M(s){var c=p.exec(s),m=c[1]||"",S=!!m&&m[1]!==":";return{device:m,isUnc:S,isAbsolute:S||!!c[2],tail:c[3]}}function D(s){return"\\\\"+s.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}y.resolve=function(){for(var s="",c="",m=!1,S=arguments.length-1;S>=-1;S--){var W;if(S>=0?W=arguments[S]:s?(W=T.env["="+s])&&W.substr(0,3).toLowerCase()===s.toLowerCase()+"\\"||(W=s+"\\"):W=T.cwd(),!I.isString(W))throw new TypeError("Arguments to path.resolve must be strings");if(W){var Y=M(W),re=Y.device,me=Y.isUnc,xe=Y.isAbsolute,Ce=Y.tail;if((!re||!s||re.toLowerCase()===s.toLowerCase())&&(s||(s=re),m||(c=Ce+"\\"+c,m=xe),s&&m))break}}return me&&(s=D(s)),s+(m?"\\":"")+(c=V(c.split(/[\\\/]+/),!m).join("\\"))||"."},y.normalize=function(s){var c=M(s),m=c.device,S=c.isUnc,W=c.isAbsolute,Y=c.tail,re=/[\\\/]$/.test(Y);return(Y=V(Y.split(/[\\\/]+/),!W).join("\\"))||W||(Y="."),Y&&re&&(Y+="\\"),S&&(m=D(m)),m+(W?"\\":"")+Y},y.isAbsolute=function(s){return M(s).isAbsolute},y.join=function(){for(var s=[],c=0;c<arguments.length;c++){var m=arguments[c];if(!I.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&s.push(m)}var S=s.join("\\");return/^[\\\/]{2}[^\\\/]/.test(s[0])||(S=S.replace(/^[\\\/]{2,}/,"\\")),y.normalize(S)},y.relative=function(s,c){s=y.resolve(s),c=y.resolve(c);for(var m=s.toLowerCase(),S=c.toLowerCase(),W=v(c.split("\\")),Y=v(m.split("\\")),re=v(S.split("\\")),me=Math.min(Y.length,re.length),xe=me,Ce=0;Ce<me;Ce++)if(Y[Ce]!==re[Ce]){xe=Ce;break}if(xe==0)return c;var fe=[];for(Ce=xe;Ce<Y.length;Ce++)fe.push("..");return(fe=fe.concat(W.slice(xe))).join("\\")},y._makeLong=function(s){if(!I.isString(s))return s;if(!s)return"";var c=y.resolve(s);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):s},y.dirname=function(s){var c=$(s),m=c[0],S=c[1];return m||S?(S&&(S=S.substr(0,S.length-1)),m+S):"."},y.basename=function(s,c){var m=$(s)[2];return c&&m.substr(-1*c.length)===c&&(m=m.substr(0,m.length-c.length)),m},y.extname=function(s){return $(s)[3]},y.format=function(s){if(!I.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!I.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);var m=s.dir,S=s.base||"";return m?m[m.length-1]===y.sep?m+S:m+y.sep+S:S},y.parse=function(s){if(!I.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=$(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},y.sep="\\",y.delimiter=";";var B=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,j={};function F(s){return B.exec(s).slice(1)}j.resolve=function(){for(var s="",c=!1,m=arguments.length-1;m>=-1&&!c;m--){var S=m>=0?arguments[m]:T.cwd();if(!I.isString(S))throw new TypeError("Arguments to path.resolve must be strings");S&&(s=S+"/"+s,c=S[0]==="/")}return(c?"/":"")+(s=V(s.split("/"),!c).join("/"))||"."},j.normalize=function(s){var c=j.isAbsolute(s),m=s&&s[s.length-1]==="/";return(s=V(s.split("/"),!c).join("/"))||c||(s="."),s&&m&&(s+="/"),(c?"/":"")+s},j.isAbsolute=function(s){return s.charAt(0)==="/"},j.join=function(){for(var s="",c=0;c<arguments.length;c++){var m=arguments[c];if(!I.isString(m))throw new TypeError("Arguments to path.join must be strings");m&&(s+=s?"/"+m:m)}return j.normalize(s)},j.relative=function(s,c){s=j.resolve(s).substr(1),c=j.resolve(c).substr(1);for(var m=v(s.split("/")),S=v(c.split("/")),W=Math.min(m.length,S.length),Y=W,re=0;re<W;re++)if(m[re]!==S[re]){Y=re;break}var me=[];for(re=Y;re<m.length;re++)me.push("..");return(me=me.concat(S.slice(Y))).join("/")},j._makeLong=function(s){return s},j.dirname=function(s){var c=F(s),m=c[0],S=c[1];return m||S?(S&&(S=S.substr(0,S.length-1)),m+S):"."},j.basename=function(s,c){var m=F(s)[2];return c&&m.substr(-1*c.length)===c&&(m=m.substr(0,m.length-c.length)),m},j.extname=function(s){return F(s)[3]},j.format=function(s){if(!I.isObject(s))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof s);var c=s.root||"";if(!I.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof s.root);return(s.dir?s.dir+j.sep:"")+(s.base||"")},j.parse=function(s){if(!I.isString(s))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof s);var c=F(s);if(!c||c.length!==4)throw new TypeError("Invalid path '"+s+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},j.sep="/",j.delimiter=":",N.exports=O?y:j,N.exports.posix=j,N.exports.win32=y},155:N=>{var d,x,T=N.exports={};function O(){throw new Error("setTimeout has not been defined")}function I(){throw new Error("clearTimeout has not been defined")}function V(j){if(d===setTimeout)return setTimeout(j,0);if((d===O||!d)&&setTimeout)return d=setTimeout,setTimeout(j,0);try{return d(j,0)}catch{try{return d.call(null,j,0)}catch{return d.call(this,j,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:O}catch{d=O}try{x=typeof clearTimeout=="function"?clearTimeout:I}catch{x=I}})();var v,p=[],g=!1,y=-1;function $(){g&&v&&(g=!1,v.length?p=v.concat(p):y=-1,p.length&&M())}function M(){if(!g){var j=V($);g=!0;for(var F=p.length;F;){for(v=p,p=[];++y<F;)v&&v[y].run();y=-1,F=p.length}v=null,g=!1,function(s){if(x===clearTimeout)return clearTimeout(s);if((x===I||!x)&&clearTimeout)return x=clearTimeout,clearTimeout(s);try{x(s)}catch{try{return x.call(null,s)}catch{return x.call(this,s)}}}(j)}}function D(j,F){this.fun=j,this.array=F}function B(){}T.nextTick=function(j){var F=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)F[s-1]=arguments[s];p.push(new D(j,F)),p.length!==1||g||V(M)},D.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=B,T.addListener=B,T.once=B,T.off=B,T.removeListener=B,T.removeAllListeners=B,T.emit=B,T.prependListener=B,T.prependOnceListener=B,T.listeners=function(j){return[]},T.binding=function(j){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(j){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},384:N=>{N.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},539:(N,d,x)=>{var T=x(155),O=/%[sdj%]/g;d.format=function(f){if(!s(f)){for(var b=[],P=0;P<arguments.length;P++)b.push(v(arguments[P]));return b.join(" ")}P=1;for(var X=arguments,Oe=X.length,R=String(f).replace(O,function(ce){if(ce==="%%")return"%";if(P>=Oe)return ce;switch(ce){case"%s":return String(X[P++]);case"%d":return Number(X[P++]);case"%j":try{return JSON.stringify(X[P++])}catch{return"[Circular]"}default:return ce}}),G=X[P];P<Oe;G=X[++P])j(G)||!S(G)?R+=" "+G:R+=" "+v(G);return R},d.deprecate=function(f,b){if(c(x.g.process))return function(){return d.deprecate(f,b).apply(this,arguments)};if(T.noDeprecation===!0)return f;var P=!1;return function(){if(!P){if(T.throwDeprecation)throw new Error(b);T.traceDeprecation?console.trace(b):console.error(b),P=!0}return f.apply(this,arguments)}};var I,V={};function v(f,b){var P={seen:[],stylize:g};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),B(b)?P.showHidden=b:b&&d._extend(P,b),c(P.showHidden)&&(P.showHidden=!1),c(P.depth)&&(P.depth=2),c(P.colors)&&(P.colors=!1),c(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=p),y(P,f,P.depth)}function p(f,b){var P=v.styles[b];return P?"\x1B["+v.colors[P][0]+"m"+f+"\x1B["+v.colors[P][1]+"m":f}function g(f,b){return f}function y(f,b,P){if(f.customInspect&&b&&re(b.inspect)&&b.inspect!==d.inspect&&(!b.constructor||b.constructor.prototype!==b)){var X=b.inspect(P,f);return s(X)||(X=y(f,X,P)),X}var Oe=function(de,le){if(c(le))return de.stylize("undefined","undefined");if(s(le)){var ke="'"+JSON.stringify(le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(ke,"string")}if(F(le))return de.stylize(""+le,"number");if(B(le))return de.stylize(""+le,"boolean");if(j(le))return de.stylize("null","null")}(f,b);if(Oe)return Oe;var R=Object.keys(b),G=function(de){var le={};return de.forEach(function(ke,Ae){le[ke]=!0}),le}(R);if(f.showHidden&&(R=Object.getOwnPropertyNames(b)),Y(b)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return $(b);if(R.length===0){if(re(b)){var ce=b.name?": "+b.name:"";return f.stylize("[Function"+ce+"]","special")}if(m(b))return f.stylize(RegExp.prototype.toString.call(b),"regexp");if(W(b))return f.stylize(Date.prototype.toString.call(b),"date");if(Y(b))return $(b)}var je,Se="",ze=!1,et=["{","}"];return D(b)&&(ze=!0,et=["[","]"]),re(b)&&(Se=" [Function"+(b.name?": "+b.name:"")+"]"),m(b)&&(Se=" "+RegExp.prototype.toString.call(b)),W(b)&&(Se=" "+Date.prototype.toUTCString.call(b)),Y(b)&&(Se=" "+$(b)),R.length!==0||ze&&b.length!=0?P<0?m(b)?f.stylize(RegExp.prototype.toString.call(b),"regexp"):f.stylize("[Object]","special"):(f.seen.push(b),je=ze?function(de,le,ke,Ae,Te){for(var Me=[],Pe=0,Lt=le.length;Pe<Lt;++Pe)Le(le,String(Pe))?Me.push(M(de,le,ke,Ae,String(Pe),!0)):Me.push("");return Te.forEach(function(wt){wt.match(/^\d+$/)||Me.push(M(de,le,ke,Ae,wt,!0))}),Me}(f,b,P,G,R):R.map(function(de){return M(f,b,P,G,de,ze)}),f.seen.pop(),function(de,le,ke){return de.reduce(function(Ae,Te){return Te.indexOf(`
`)>=0,Ae+Te.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ke[0]+(le===""?"":le+`
 `)+" "+de.join(`,
  `)+" "+ke[1]:ke[0]+le+" "+de.join(", ")+" "+ke[1]}(je,Se,et)):et[0]+Se+et[1]}function $(f){return"["+Error.prototype.toString.call(f)+"]"}function M(f,b,P,X,Oe,R){var G,ce,je;if((je=Object.getOwnPropertyDescriptor(b,Oe)||{value:b[Oe]}).get?ce=je.set?f.stylize("[Getter/Setter]","special"):f.stylize("[Getter]","special"):je.set&&(ce=f.stylize("[Setter]","special")),Le(X,Oe)||(G="["+Oe+"]"),ce||(f.seen.indexOf(je.value)<0?(ce=j(P)?y(f,je.value,null):y(f,je.value,P-1)).indexOf(`
`)>-1&&(ce=R?ce.split(`
`).map(function(Se){return"  "+Se}).join(`
`).substr(2):`
`+ce.split(`
`).map(function(Se){return"   "+Se}).join(`
`)):ce=f.stylize("[Circular]","special")),c(G)){if(R&&Oe.match(/^\d+$/))return ce;(G=JSON.stringify(""+Oe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=f.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=f.stylize(G,"string"))}return G+": "+ce}function D(f){return Array.isArray(f)}function B(f){return typeof f=="boolean"}function j(f){return f===null}function F(f){return typeof f=="number"}function s(f){return typeof f=="string"}function c(f){return f===void 0}function m(f){return S(f)&&me(f)==="[object RegExp]"}function S(f){return typeof f=="object"&&f!==null}function W(f){return S(f)&&me(f)==="[object Date]"}function Y(f){return S(f)&&(me(f)==="[object Error]"||f instanceof Error)}function re(f){return typeof f=="function"}function me(f){return Object.prototype.toString.call(f)}function xe(f){return f<10?"0"+f.toString(10):f.toString(10)}d.debuglog=function(f){if(c(I)&&(I=T.env.NODE_DEBUG||""),f=f.toUpperCase(),!V[f])if(new RegExp("\\b"+f+"\\b","i").test(I)){var b=T.pid;V[f]=function(){var P=d.format.apply(d,arguments);console.error("%s %d: %s",f,b,P)}}else V[f]=function(){};return V[f]},d.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=D,d.isBoolean=B,d.isNull=j,d.isNullOrUndefined=function(f){return f==null},d.isNumber=F,d.isString=s,d.isSymbol=function(f){return typeof f=="symbol"},d.isUndefined=c,d.isRegExp=m,d.isObject=S,d.isDate=W,d.isError=Y,d.isFunction=re,d.isPrimitive=function(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||f===void 0},d.isBuffer=x(384);var Ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fe(){var f=new Date,b=[xe(f.getHours()),xe(f.getMinutes()),xe(f.getSeconds())].join(":");return[f.getDate(),Ce[f.getMonth()],b].join(" ")}function Le(f,b){return Object.prototype.hasOwnProperty.call(f,b)}d.log=function(){console.log("%s - %s",fe(),d.format.apply(d,arguments))},d.inherits=x(717),d._extend=function(f,b){if(!b||!S(b))return f;for(var P=Object.keys(b),X=P.length;X--;)f[P[X]]=b[P[X]];return f}}},he={};function z(N){var d=he[N];if(d!==void 0)return d.exports;var x=he[N]={exports:{}};return we[N].call(x.exports,x,x.exports,z),x.exports}z.n=N=>{var d=N&&N.__esModule?()=>N.default:()=>N;return z.d(d,{a:d}),d},z.d=(N,d)=>{for(var x in d)z.o(d,x)&&!z.o(N,x)&&Object.defineProperty(N,x,{enumerable:!0,get:d[x]})},z.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),z.o=(N,d)=>Object.prototype.hasOwnProperty.call(N,d),z.r=N=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var ie={};return(()=>{z.r(ie),z.d(ie,{LSPluginUser:()=>ir,setupPluginUserInstance:()=>Pr});var N=z(520);z(856);const d=function(){this.__data__=[],this.size=0},x=function(t,e){return t===e||t!=t&&e!=e},T=function(t,e){for(var n=t.length;n--;)if(x(t[n][0],e))return n;return-1};var O=Array.prototype.splice;const I=function(t){var e=this.__data__,n=T(e,t);return!(n<0)&&(n==e.length-1?e.pop():O.call(e,n,1),--this.size,!0)},V=function(t){var e=this.__data__,n=T(e,t);return n<0?void 0:e[n][1]},v=function(t){return T(this.__data__,t)>-1},p=function(t,e){var n=this.__data__,r=T(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function g(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}g.prototype.clear=d,g.prototype.delete=I,g.prototype.get=V,g.prototype.has=v,g.prototype.set=p;const y=g,$=function(){this.__data__=new y,this.size=0},M=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},D=function(t){return this.__data__.get(t)},B=function(t){return this.__data__.has(t)},j=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn;var F=typeof self=="object"&&self&&self.Object===Object&&self;const s=j||F||Function("return this")(),c=s.Symbol;var m=Object.prototype,S=m.hasOwnProperty,W=m.toString,Y=c?c.toStringTag:void 0;const re=function(t){var e=S.call(t,Y),n=t[Y];try{t[Y]=void 0;var r=!0}catch{}var i=W.call(t);return r&&(e?t[Y]=n:delete t[Y]),i};var me=Object.prototype.toString;const xe=function(t){return me.call(t)};var Ce=c?c.toStringTag:void 0;const fe=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Ce&&Ce in Object(t)?re(t):xe(t)},Le=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},f=function(t){if(!Le(t))return!1;var e=fe(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},b=s["__core-js_shared__"];var P,X=(P=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const Oe=function(t){return!!X&&X in t};var R=Function.prototype.toString;const G=function(t){if(t!=null){try{return R.call(t)}catch{}try{return t+""}catch{}}return""};var ce=/^\[object .+?Constructor\]$/,je=Function.prototype,Se=Object.prototype,ze=je.toString,et=Se.hasOwnProperty,de=RegExp("^"+ze.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const le=function(t){return!(!Le(t)||Oe(t))&&(f(t)?de:ce).test(G(t))},ke=function(t,e){return t==null?void 0:t[e]},Ae=function(t,e){var n=ke(t,e);return le(n)?n:void 0},Te=Ae(s,"Map"),Me=Ae(Object,"create"),Pe=function(){this.__data__=Me?Me(null):{},this.size=0},Lt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var wt=Object.prototype.hasOwnProperty;const Fn=function(t){var e=this.__data__;if(Me){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return wt.call(e,t)?e[t]:void 0};var Nn=Object.prototype.hasOwnProperty;const Pn=function(t){var e=this.__data__;return Me?e[t]!==void 0:Nn.call(e,t)},Rn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Me&&e===void 0?"__lodash_hash_undefined__":e,this};function tt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tt.prototype.clear=Pe,tt.prototype.delete=Lt,tt.prototype.get=Fn,tt.prototype.has=Pn,tt.prototype.set=Rn;const sn=tt,$n=function(){this.size=0,this.__data__={hash:new sn,map:new(Te||y),string:new sn}},Dn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},lt=function(t,e){var n=t.__data__;return Dn(e)?n[typeof e=="string"?"string":"hash"]:n.map},w=function(t){var e=lt(this,t).delete(t);return this.size-=e?1:0,e},k=function(t){return lt(this,t).get(t)},H=function(t){return lt(this,t).has(t)},Z=function(t,e){var n=lt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function se(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}se.prototype.clear=$n,se.prototype.delete=w,se.prototype.get=k,se.prototype.has=H,se.prototype.set=Z;const Fe=se,Ze=function(t,e){var n=this.__data__;if(n instanceof y){var r=n.__data__;if(!Te||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Fe(r)}return n.set(t,e),this.size=n.size,this};function Ne(t){var e=this.__data__=new y(t);this.size=e.size}Ne.prototype.clear=$,Ne.prototype.delete=M,Ne.prototype.get=D,Ne.prototype.has=B,Ne.prototype.set=Ze;const Ve=Ne,ut=function(){try{var t=Ae(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xt=function(t,e,n){e=="__proto__"&&ut?ut(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Mt=function(t,e,n){(n!==void 0&&!x(t[e],n)||n===void 0&&!(e in t))&&xt(t,e,n)},an=function(t){return function(e,n,r){for(var i=-1,a=Object(e),l=r(e),u=l.length;u--;){var h=l[t?u:++i];if(n(a[h],h,a)===!1)break}return e}}();var cn=ne&&!ne.nodeType&&ne,ft=cn&&!0&&oe&&!oe.nodeType&&oe,ln=ft&&ft.exports===cn?s.Buffer:void 0,un=ln?ln.allocUnsafe:void 0;const Un=function(t,e){if(e)return t.slice();var n=t.length,r=un?un(n):new t.constructor(n);return t.copy(r),r},nt=s.Uint8Array,Ft=function(t){var e=new t.constructor(t.byteLength);return new nt(e).set(new nt(t)),e},He=function(t,e){var n=e?Ft(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},fn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var dt=Object.create;const Nt=function(){function t(){}return function(e){if(!Le(e))return{};if(dt)return dt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),dn=function(t,e){return function(n){return t(e(n))}},pn=dn(Object.getPrototypeOf,Object);var zn=Object.prototype;const Pt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||zn)},hn=function(t){return typeof t.constructor!="function"||Pt(t)?{}:Nt(pn(t))},ye=function(t){return t!=null&&typeof t=="object"},rt=function(t){return ye(t)&&fe(t)=="[object Arguments]"};var qe=Object.prototype,Rt=qe.hasOwnProperty,$t=qe.propertyIsEnumerable;const Ct=rt(function(){return arguments}())?rt:function(t){return ye(t)&&Rt.call(t,"callee")&&!$t.call(t,"callee")},Ie=Array.isArray,Dt=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},pt=function(t){return t!=null&&Dt(t.length)&&!f(t)},Ut=function(t){return ye(t)&&pt(t)},ge=function(){return!1};var zt=ne&&!ne.nodeType&&ne,ve=zt&&!0&&oe&&!oe.nodeType&&oe,Ht=ve&&ve.exports===zt?s.Buffer:void 0;const ae=(Ht?Ht.isBuffer:void 0)||ge;var ht=Function.prototype,qt=Object.prototype,Bt=ht.toString,Wt=qt.hasOwnProperty,mn=Bt.call(Object);const ot=function(t){if(!ye(t)||fe(t)!="[object Object]")return!1;var e=pn(t);if(e===null)return!0;var n=Wt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Bt.call(n)==mn};var Q={};Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=Q["[object Uint32Array]"]=!0,Q["[object Arguments]"]=Q["[object Array]"]=Q["[object ArrayBuffer]"]=Q["[object Boolean]"]=Q["[object DataView]"]=Q["[object Date]"]=Q["[object Error]"]=Q["[object Function]"]=Q["[object Map]"]=Q["[object Number]"]=Q["[object Object]"]=Q["[object RegExp]"]=Q["[object Set]"]=Q["[object String]"]=Q["[object WeakMap]"]=!1;const Gt=function(t){return ye(t)&&Dt(t.length)&&!!Q[fe(t)]},Jt=function(t){return function(e){return t(e)}};var Ke=ne&&!ne.nodeType&&ne,Be=Ke&&!0&&oe&&!oe.nodeType&&oe,it=Be&&Be.exports===Ke&&j.process,Zt=function(){try{var t=Be&&Be.require&&Be.require("util").types;return t||it&&it.binding&&it.binding("util")}catch{}}(),Ot=Zt&&Zt.isTypedArray;const Ye=Ot?Jt(Ot):Gt,We=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var st=Object.prototype.hasOwnProperty;const gn=function(t,e,n){var r=t[e];st.call(t,e)&&x(r,n)&&(n!==void 0||e in t)||xt(t,e,n)},vn=function(t,e,n,r){var i=!n;n||(n={});for(var a=-1,l=e.length;++a<l;){var u=e[a],h=r?r(n[u],t[u],u,n,t):void 0;h===void 0&&(h=t[u]),i?xt(n,u,h):gn(n,u,h)}return n},yn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Vt=/^(?:0|[1-9]\d*)$/;const St=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Vt.test(t))&&t>-1&&t%1==0&&t<e};var Kt=Object.prototype.hasOwnProperty;const kt=function(t,e){var n=Ie(t),r=!n&&Ct(t),i=!n&&!r&&ae(t),a=!n&&!r&&!i&&Ye(t),l=n||r||i||a,u=l?yn(t.length,String):[],h=u.length;for(var A in t)!e&&!Kt.call(t,A)||l&&(A=="length"||i&&(A=="offset"||A=="parent")||a&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||St(A,h))||u.push(A);return u},Ge=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var At=Object.prototype.hasOwnProperty;const bn=function(t){if(!Le(t))return Ge(t);var e=Pt(t),n=[];for(var r in t)(r!="constructor"||!e&&At.call(t,r))&&n.push(r);return n},_n=function(t){return pt(t)?kt(t,!0):bn(t)},Hn=function(t){return vn(t,_n(t))},at=function(t,e,n,r,i,a,l){var u=We(t,n),h=We(e,n),A=l.get(h);if(A)Mt(t,n,A);else{var E=a?a(u,h,n+"",t,e,l):void 0,L=E===void 0;if(L){var U=Ie(h),J=!U&&ae(h),q=!U&&!J&&Ye(h);E=h,U||J||q?Ie(u)?E=u:Ut(u)?E=fn(u):J?(L=!1,E=Un(h,!0)):q?(L=!1,E=He(h,!0)):E=[]:ot(h)||Ct(h)?(E=u,Ct(u)?E=Hn(u):Le(u)&&!f(u)||(E=hn(h))):L=!1}L&&(l.set(h,E),i(E,h,r,a,l),l.delete(h)),Mt(t,n,E)}},qn=function t(e,n,r,i,a){e!==n&&an(n,function(l,u){if(a||(a=new Ve),Le(l))at(e,n,u,r,t,i,a);else{var h=i?i(We(e,u),l,u+"",e,n,a):void 0;h===void 0&&(h=l),Mt(e,u,h)}},_n)},jt=function(t){return t},Yt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Qt=Math.max;const wn=function(t,e,n){return e=Qt(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Qt(r.length-e,0),l=Array(a);++i<a;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),Yt(t,this,u)}},Bn=function(t){return function(){return t}},Et=ut?function(t,e){return ut(t,"toString",{configurable:!0,enumerable:!1,value:Bn(e),writable:!0})}:jt;var Xt=Date.now;const Wn=function(t){var e=0,n=0;return function(){var r=Xt(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Et),Re=function(t,e){return Wn(wn(t,e,jt),t+"")},xn=function(t,e,n){if(!Le(n))return!1;var r=typeof e;return!!(r=="number"?pt(n)&&St(e,n.length):r=="string"&&e in n)&&x(n[e],t)},Cn=function(t){return Re(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,l&&xn(n[0],n[1],l)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}(function(t,e,n){qn(t,e,n)});var mt=function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},mt.apply(this,arguments)};function Gn(t){return t.toLowerCase()}var gt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],$e=/[^A-Z0-9]+/gi;function en(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function On(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,a=i===void 0?gt:i,l=r.stripRegexp,u=l===void 0?$e:l,h=r.transform,A=h===void 0?Gn:h,E=r.delimiter,L=E===void 0?" ":E,U=en(en(n,a,"$1\0$2"),u,"\0"),J=0,q=U.length;U.charAt(J)==="\0";)J++;for(;U.charAt(q-1)==="\0";)q--;return U.slice(J,q).split("\0").map(A).join(L)}(t,mt({delimiter:"."},e))}var tn=z(729),vt=z.n(tn);function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?N.win32:N.posix,C=function(t,e){return e===void 0&&(e={}),On(t,mt({delimiter:"_"},e))},_=Cn;class ee extends vt(){constructor(e,n){super(),nn(this,"_tag",void 0),nn(this,"_opts",void 0),nn(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const a=n.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var l;this._logs.push([e,a]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((l=console)===null||l===void 0||l[e==="ERROR"?"error":"debug"](`${e}: ${a}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function ue(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function be(t,e){let n,r,i=!1;const a=u=>h=>{t&&clearTimeout(t),u(h),i=!0},l=new Promise((u,h)=>{n=a(u),r=a(h),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:l,get settled(){return i}}}const _e=new Map;window.__injectedUIEffects=_e;var yt=z(227),De=z.n(yt);function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Qe="application/x-postmate-v1+json";let sr=0;const Dr={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Jn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Qe&&!!Dr[t.data.postmate];class Ur{constructor(e){K(this,"parent",void 0),K(this,"frame",void 0),K(this,"child",void 0),K(this,"events",{}),K(this,"childOrigin",void 0),K(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Jn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(a=>{a.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++sr,a=l=>{l.data.uid===i&&l.data.postmate==="reply"&&(this.parent.removeEventListener("message",a,!1),r(l.data.value))};this.parent.addEventListener("message",a,!1),this.child.postMessage({postmate:"request",type:Qe,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Qe,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class zr{constructor(e){K(this,"model",void 0),K(this,"parent",void 0),K(this,"parentOrigin",void 0),K(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Jn(n,this.parentOrigin))return;const{property:r,uid:i,data:a,args:l}=n.data;n.data.postmate!=="call"?((u,h,A)=>{const E=typeof u[h]=="function"?u[h].apply(null,A):u[h];return Promise.resolve(E)})(this.model,r,l).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:Qe,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](a)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Qe,value:{name:e,data:n}},this.parentOrigin)}}class Zn{constructor(e){K(this,"container",void 0),K(this,"parent",void 0),K(this,"frame",void 0),K(this,"child",void 0),K(this,"childOrigin",void 0),K(this,"url",void 0),K(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(a=>{const l=document.createElement("a");l.href=a;const u=l.protocol.length>4?l.protocol:window.location.protocol,h=l.host.length?l.port==="80"||l.port==="443"?l.hostname:l.host:window.location.host;return l.origin||`${u}//${h}`})(e=e||this.url);let r,i=0;return new Promise((a,l)=>{const u=A=>!!Jn(A,n)&&(A.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=A.origin,a(new Ur(this))):l("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:Qe,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{h(),r=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}K(Zn,"debug",!1),K(Zn,"Model",void 0);class Hr{constructor(e){K(this,"child",void 0),K(this,"model",void 0),K(this,"parent",void 0),K(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:Qe},i.origin),this.parentOrigin=i.origin;const a=i.data.model;return a&&Object.keys(a).forEach(l=>{this.model[l]=a[l]}),e(new zr(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:qr,createSandboxContainer:Br}=window.QSandbox||{};function Wr(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class Gr extends vt(){constructor(e){super(),rn(this,"_pluginLocal",void 0),rn(this,"_frame",void 0),rn(this,"_root",void 0),rn(this,"_loaded",!1),rn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await qr(n,{fetch:Wr});this._mount(r,document.body);const a=Br(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;a.__shadow_mode__=!0,a.LSPluginLocal=this._pluginLocal,a.LSPluginShadow=this,a.LSPluginUser=a.logseq=new ir(this._pluginLocal.toJSON(),this._pluginLocal.caller);const l=await i(a,!0);this._unmountFns.push(l.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=De()("LSPlugin:caller"),on="#await#response#",Jr="#lspmsg#",ar="#lspmsg#error#",Sn=t=>`#lspmsg#${t}`;class Zr extends vt(){constructor(e){super(),Je(this,"_pluginLocal",void 0),Je(this,"_connected",!1),Je(this,"_parent",void 0),Je(this,"_child",void 0),Je(this,"_shadow",void 0),Je(this,"_status",void 0),Je(this,"_userModel",{}),Je(this,"_call",void 0),Je(this,"_callUserModel",void 0),Je(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const a=new Map,l=be(6e4),u=this._extendUserModel({"#lspmsg#ready#":async E=>{u[Sn(E==null?void 0:E.pid)]=({type:L,payload:U})=>{ct(`[host (_call) -> *user] ${this._debugTag}`,L,U),n.emit(L,U)},await l.resolve()},"#lspmsg#beforeunload#":async E=>{const L=be(1e4);n.emit("beforeunload",Object.assign({actor:L},E)),await L.promise},"#lspmsg#settings#":async({type:E,payload:L})=>{n.emit("settings:changed",L)},[Jr]:async({ns:E,type:L,payload:U})=>{ct(`[host (async) -> *user] ${this._debugTag} ns=${E} type=${L}`,U),E&&E.startsWith("hook")?n.emit(`${E}:${L}`,U):n.emit(L,U)},"#lspmsg#reply#":({_sync:E,result:L})=>{if(ct(`[sync host -> *user] #${E}`,L),a.has(E)){const U=a.get(E);U&&(L!=null&&L.hasOwnProperty(ar)?U.reject(L[ar]):U.resolve(L),a.delete(E))}},...e});var h;if(r)return await l.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const A=new Hr(u).sendHandshakeReply();return this._status="pending",await A.then(E=>{this._child=E,this._connected=!0,this._call=async(L,U={},J)=>{if(J){const q=++i;a.set(q,J),U._sync=q,J.setTag(`async call #${q}`),ct(`async call #${q}`)}return E.emit(Sn(u.baseInfo.id),{type:L,payload:U}),J==null?void 0:J.promise},this._callUserModel=async(L,U)=>{try{u[L](U)}catch{ct(`[model method] #${L} not existed`)}},setInterval(()=>{if(a.size>100)for(const[L,U]of a)U.settled&&a.delete(L)},18e5)}).finally(()=>{this._status=void 0}),await l.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=be(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${on}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const a=document.querySelector(`#${r}`);a&&a.parentElement.removeChild(a);const l=document.createElement("div");l.classList.add("lsp-iframe-sandbox-container"),l.id=r,l.dataset.pid=n;try{var u;const L=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(L){l.dataset.inited_layout="true";let{width:U,height:J,left:q,top:te,vw:pe,vh:Ee}=L;q=Math.max(q,0),q=typeof pe=="number"?`${Math.min(100*q/pe,99)}%`:`${q}px`,te=Math.max(te,45),te=typeof Ee=="number"?`${Math.min(100*te/Ee,99)}%`:`${te}px`,Object.assign(l.style,{width:U+"px",height:J+"px",left:q,top:te})}}catch(L){console.error("[Restore Layout Error]",L)}document.body.appendChild(l);const h=new Zn({id:n+"_iframe",container:l,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let A,E=h.sendHandshake();return this._status="pending",new Promise((L,U)=>{A=setTimeout(()=>{U(new Error("handshake Timeout")),h.destroy()},4e3),E.then(J=>{this._parent=J,this._connected=!0,this.emit("connected"),J.on(Sn(e.id),({type:q,payload:te})=>{var pe,Ee;ct("[user -> *host] ",q,te),(pe=this._pluginLocal)===null||pe===void 0||pe.emit(q,te||{}),(Ee=this._pluginLocal)===null||Ee===void 0||Ee.caller.emit(q,te||{})}),this._call=async(...q)=>{await J.call(Sn(e.id),{type:q[0],payload:Object.assign(q[1]||{},{$$pid:e.id})})},this._callUserModel=async(q,...te)=>{if(q.startsWith(on))return await J.get(q.replace(on,""),...te);J.call(q,te==null?void 0:te[0])},L(null)}).catch(J=>{U(J)}).finally(()=>{clearTimeout(A)})}).catch(L=>{throw ct("[iframe sandbox] error",L),L}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Gr(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},a)=>{var l;return a&&(i.actor=a),(l=this._pluginLocal)===null||l===void 0||l.emit(r,Object.assign(i,{$$pid:e.id})),a==null?void 0:a.promise},this._callUserModel=async(...r)=>{var i;let a=r[0];(i=a)!==null&&i!==void 0&&i.startsWith(on)&&(a=a.replace(on,""));const l=r[1]||{},u=this._userModel[a];typeof u=="function"&&await u.call(null,l)}}catch(r){throw ct("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class lr{constructor(e,n){cr(this,"ctx",void 0),cr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class Vr{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const a=this.ensureHostScope();return e=(r=C(e))===null||r===void 0?void 0:r.toLowerCase(),(i=a.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(a,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ur=t=>`task_callback_${t}`;class Kr{constructor(e,n,r={}){Tt(this,"_client",void 0),Tt(this,"_requestId",void 0),Tt(this,"_requestOptions",void 0),Tt(this,"_promise",void 0),Tt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(ur(this._requestId),A=>{A&&A instanceof Error?h(A):u(A)})});const{success:i,fail:a,final:l}=this._requestOptions;this._promise.then(u=>{i==null||i(u)}).catch(u=>{a==null||a(u)}).finally(()=>{l==null||l()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Vn extends tn.EventEmitter{constructor(e){super(),Tt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n==null?void 0:n.requestId;r&&this.emit(ur(r),n==null?void 0:n.payload)})}static createRequestTask(e,n,r){return new Kr(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:a,...l}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,l),h=Vn.createRequestTask(this.ctx.Request,u,e);return l.abortable?h:h.promise}get ctx(){return this._ctx}}const Yr=dn(Object.keys,Object);var Qr=Object.prototype.hasOwnProperty;const Xr=function(t){if(!Pt(t))return Yr(t);var e=[];for(var n in Object(t))Qr.call(t,n)&&n!="constructor"&&e.push(n);return e},Kn=function(t){return pt(t)?kt(t):Xr(t)},eo=function(t,e){return t&&an(t,e,Kn)},to=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},no=function(t){return this.__data__.has(t)};function kn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fe;++e<n;)this.add(t[e])}kn.prototype.add=kn.prototype.push=to,kn.prototype.has=no;const ro=kn,oo=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},io=function(t,e){return t.has(e)},fr=function(t,e,n,r,i,a){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var A=a.get(t),E=a.get(e);if(A&&E)return A==e&&E==t;var L=-1,U=!0,J=2&n?new ro:void 0;for(a.set(t,e),a.set(e,t);++L<u;){var q=t[L],te=e[L];if(r)var pe=l?r(te,q,L,e,t,a):r(q,te,L,t,e,a);if(pe!==void 0){if(pe)continue;U=!1;break}if(J){if(!oo(e,function(Ee,Xe){if(!io(J,Xe)&&(q===Ee||i(q,Ee,n,r,a)))return J.push(Xe)})){U=!1;break}}else if(q!==te&&!i(q,te,n,r,a)){U=!1;break}}return a.delete(t),a.delete(e),U},so=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},ao=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var dr=c?c.prototype:void 0,Yn=dr?dr.valueOf:void 0;const co=function(t,e,n,r,i,a,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new nt(t),new nt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=so;case"[object Set]":var h=1&r;if(u||(u=ao),t.size!=e.size&&!h)return!1;var A=l.get(t);if(A)return A==e;r|=2,l.set(t,e);var E=fr(u(t),u(e),r,i,a,l);return l.delete(t),E;case"[object Symbol]":if(Yn)return Yn.call(t)==Yn.call(e)}return!1},lo=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},uo=function(t,e,n){var r=e(t);return Ie(t)?r:lo(r,n(t))},fo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var l=t[n];e(l,n,t)&&(a[i++]=l)}return a},po=function(){return[]};var ho=Object.prototype.propertyIsEnumerable,pr=Object.getOwnPropertySymbols;const mo=pr?function(t){return t==null?[]:(t=Object(t),fo(pr(t),function(e){return ho.call(t,e)}))}:po,hr=function(t){return uo(t,Kn,mo)};var go=Object.prototype.hasOwnProperty;const vo=function(t,e,n,r,i,a){var l=1&n,u=hr(t),h=u.length;if(h!=hr(e).length&&!l)return!1;for(var A=h;A--;){var E=u[A];if(!(l?E in e:go.call(e,E)))return!1}var L=a.get(t),U=a.get(e);if(L&&U)return L==e&&U==t;var J=!0;a.set(t,e),a.set(e,t);for(var q=l;++A<h;){var te=t[E=u[A]],pe=e[E];if(r)var Ee=l?r(pe,te,E,e,t,a):r(te,pe,E,t,e,a);if(!(Ee===void 0?te===pe||i(te,pe,n,r,a):Ee)){J=!1;break}q||(q=E=="constructor")}if(J&&!q){var Xe=t.constructor,_t=e.constructor;Xe==_t||!("constructor"in t)||!("constructor"in e)||typeof Xe=="function"&&Xe instanceof Xe&&typeof _t=="function"&&_t instanceof _t||(J=!1)}return a.delete(t),a.delete(e),J},Qn=Ae(s,"DataView"),Xn=Ae(s,"Promise"),er=Ae(s,"Set"),tr=Ae(s,"WeakMap");var mr="[object Map]",gr="[object Promise]",vr="[object Set]",yr="[object WeakMap]",br="[object DataView]",yo=G(Qn),bo=G(Te),_o=G(Xn),wo=G(er),xo=G(tr),bt=fe;(Qn&&bt(new Qn(new ArrayBuffer(1)))!=br||Te&&bt(new Te)!=mr||Xn&&bt(Xn.resolve())!=gr||er&&bt(new er)!=vr||tr&&bt(new tr)!=yr)&&(bt=function(t){var e=fe(t),n=e=="[object Object]"?t.constructor:void 0,r=n?G(n):"";if(r)switch(r){case yo:return br;case bo:return mr;case _o:return gr;case wo:return vr;case xo:return yr}return e});const _r=bt;var wr="[object Arguments]",xr="[object Array]",An="[object Object]",Cr=Object.prototype.hasOwnProperty;const Co=function(t,e,n,r,i,a){var l=Ie(t),u=Ie(e),h=l?xr:_r(t),A=u?xr:_r(e),E=(h=h==wr?An:h)==An,L=(A=A==wr?An:A)==An,U=h==A;if(U&&ae(t)){if(!ae(e))return!1;l=!0,E=!1}if(U&&!E)return a||(a=new Ve),l||Ye(t)?fr(t,e,n,r,i,a):co(t,e,h,n,r,i,a);if(!(1&n)){var J=E&&Cr.call(t,"__wrapped__"),q=L&&Cr.call(e,"__wrapped__");if(J||q){var te=J?t.value():t,pe=q?e.value():e;return a||(a=new Ve),i(te,pe,n,r,a)}}return!!U&&(a||(a=new Ve),vo(t,e,n,r,i,a))},Or=function t(e,n,r,i,a){return e===n||(e==null||n==null||!ye(e)&&!ye(n)?e!=e&&n!=n:Co(e,n,r,i,t,a))},Oo=function(t,e,n,r){var i=n.length,a=i,l=!r;if(t==null)return!a;for(t=Object(t);i--;){var u=n[i];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var h=(u=n[i])[0],A=t[h],E=u[1];if(l&&u[2]){if(A===void 0&&!(h in t))return!1}else{var L=new Ve;if(r)var U=r(A,E,h,t,e,L);if(!(U===void 0?Or(E,A,3,r,L):U))return!1}}return!0},Sr=function(t){return t==t&&!Le(t)},So=function(t){for(var e=Kn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sr(i)]}return e},kr=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},ko=function(t){var e=So(t);return e.length==1&&e[0][2]?kr(e[0][0],e[0][1]):function(n){return n===t||Oo(n,t,e)}},nr=function(t){return typeof t=="symbol"||ye(t)&&fe(t)=="[object Symbol]"};var Ao=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jo=/^\w*$/;const rr=function(t,e){if(Ie(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!nr(t))||jo.test(t)||!Ao.test(t)||e!=null&&t in Object(e)};function or(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var l=t.apply(this,r);return n.cache=a.set(i,l)||a,l};return n.cache=new(or.Cache||Fe),n}or.Cache=Fe;const Eo=or;var To=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Io=/\\(\\)?/g;const Lo=function(t){var e=Eo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(To,function(n,r,i,a){e.push(i?a.replace(Io,"$1"):r||n)}),e}),Mo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Ar=c?c.prototype:void 0,jr=Ar?Ar.toString:void 0;const Fo=function t(e){if(typeof e=="string")return e;if(Ie(e))return Mo(e,t)+"";if(nr(e))return jr?jr.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},No=function(t){return t==null?"":Fo(t)},Er=function(t,e){return Ie(t)?t:rr(t,e)?[t]:Lo(No(t))},jn=function(t){if(typeof t=="string"||nr(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Tr=function(t,e){for(var n=0,r=(e=Er(e,t)).length;t!=null&&n<r;)t=t[jn(e[n++])];return n&&n==r?t:void 0},Po=function(t,e,n){var r=t==null?void 0:Tr(t,e);return r===void 0?n:r},Ro=function(t,e){return t!=null&&e in Object(t)},$o=function(t,e,n){for(var r=-1,i=(e=Er(e,t)).length,a=!1;++r<i;){var l=jn(e[r]);if(!(a=t!=null&&n(t,l)))break;t=t[l]}return a||++r!=i?a:!!(i=t==null?0:t.length)&&Dt(i)&&St(l,i)&&(Ie(t)||Ct(t))},Do=function(t,e){return t!=null&&$o(t,e,Ro)},Uo=function(t,e){return rr(t)&&Sr(e)?kr(jn(t),e):function(n){var r=Po(n,t);return r===void 0&&r===e?Do(n,t):Or(e,r,3)}},zo=function(t){return function(e){return e==null?void 0:e[t]}},Ho=function(t){return function(e){return Tr(e,t)}},qo=function(t){return rr(t)?zo(jn(t)):Ho(t)},Bo=function(t){return typeof t=="function"?t:t==null?jt:typeof t=="object"?Ie(t)?Uo(t[0],t[1]):ko(t):qo(t)},Wo=function(t,e){var n={};return e=Bo(e),eo(t,function(r,i,a){xt(n,e(r,i,a),r)}),n};function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Go{constructor(e,n){Ir(this,"ctx",void 0),Ir(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Ie(r==null?void 0:r.blocks)&&(r.blocks=r.blocks.map(i=>i&&Wo(i,(a,l)=>`block/${l}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const a=(l=>`service:search:${l}:${n.name}`)(r);e.caller.on(a,async l=>{if(f(n==null?void 0:n[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(h=>{if(l){if(h===!0)return l;if(l.hasOwnProperty(h)){const A=l[h];return delete l[h],A}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${a}:reply`,u)}}})})}}function Ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Jo=Symbol.for("proxy-continue"),Zo=De()("LSPlugin:user"),Lr=new ee("",{console:!0});function It(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:a,desc:l,palette:u,keybinding:h,extras:A}=e,E=`SimpleCommandHook${i}${++Nr}`;this.Editor["on"+E](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:a,type:t,desc:l,keybinding:h,extras:A},["editor/hook",E]],u]})}function Mr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Lr.error(`#${t} is not a valid UUID string.`),!1);var e}let En=null,Fr=new Map;const Vo={async getInfo(t){return En||(En=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?En[t]:En},registerCommand:It,registerSearchService(t){if(Fr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Fr.set(t.name,new Go(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return It.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+C(n);return It.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;It.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:editor:${C(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i==null?void 0:i.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const a=t.replace(`${r}.${i}.`,"");if(!r||!i||!a)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),a,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Nr=0;const Ko={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Zo("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...a]=r;if(i==="editor/hook"){let l=a[0],u=()=>{var A;(A=this.caller)===null||A===void 0||A.callUserModel(l)};typeof l=="function"&&(u=l);const h=`SlashCommandHook${i}${++Nr}`;r[1]=h,this.Editor["on"+h](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;It.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;It.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},Yo={onBlockChanged(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:db:${C(`block:${t}`)}`,i=({block:a,txData:l,txMeta:u})=>{a.uuid===t&&e(a,l,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Qo={},Xo={},ei={makeSandboxStorage(){return new lr(this,{assets:!0})}};class ir extends vt(){constructor(e,n){super(),Ue(this,"_baseInfo",void 0),Ue(this,"_caller",void 0),Ue(this,"_version","0.0.15"),Ue(this,"_debugTag",""),Ue(this,"_settingsSchema",void 0),Ue(this,"_connected",!1),Ue(this,"_ui",new Map),Ue(this,"_mFileStorage",void 0),Ue(this,"_mRequest",void 0),Ue(this,"_mExperiments",void 0),Ue(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),a=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...a},i)}),n.on("beforeunload",async r=>{const{actor:i,...a}=r,l=this._beforeunloadCallback;try{l&&await l(a),i==null||i.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i==null||i.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=_(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(a,l){const u=(l||[]).reduce((h,A)=>("default"in A&&(h[A.key]=A.default),h),{});return Object.assign(u,a)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(a){console.warn(a)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e==null?void 0:e.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e==null?void 0:e.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Lr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),ue(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(a,l,u){const h=a[l];return function(...A){if(h){const L=h.apply(r,A.concat(n));if(L!==Jo)return L}if(n){const L=l.toString().match(/^(once|off|on)/i);if(L!=null){const U=L[0].toLowerCase(),J=L.input.slice(U.length),q=U==="off",te=r.baseInfo.id,pe=`hook:${n}:${C(J)}`,Ee=A[0],Xe=A[1];i[U](pe,Ee);const _t=()=>{i.off(pe,Ee),i.listenerCount(pe)||r.App._uninstallPluginHook(te,pe)};return q?void _t():(r.App._installPluginHook(te,pe,Xe),_t)}}let E=l;return["git","ui","assets"].includes(n)&&(E=n+"_"+E),i.callAsync("api:call",{tag:n,method:E,args:A})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Vo,"app")}get Editor(){return this._makeUserProxy(Ko,"editor")}get DB(){return this._makeUserProxy(Yo,"db")}get Git(){return this._makeUserProxy(Qo,"git")}get UI(){return this._makeUserProxy(Xo,"ui")}get Assets(){return this._makeUserProxy(ei,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new lr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Vn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Vr(this)),e}}function Pr(t,e){return new ir(t,e)}if(window.__LSP__HOST__==null){const t=new Zr(null);window.logseq=Pr({},t)}})(),ie})())})(Ln,Ln.exports);Ln.exports;const ti=oe=>{const ne=we=>{const he=we?Object.keys(we).map(ie=>`${we[ie]}`):void 0,z=he?"_"+he.join("_"):"";return"{{renderer :"+oe.name+z+"}}"};return{name:oe.name,slotText:ne}},Mn=ti({name:"live-table"}),In={pomoId:"data-pomo-id",slotId:"data-slot-id",blockUuid:"data-block-uuid",onClick:"data-on-click"},ni=oe=>{var x;const{slot:ne,payload:we}=oe,[he,z,ie]=we.arguments;if(console.debug("onMacroRendererSlotted event",oe),!(he!=null&&he.startsWith(`:${Mn.name}`)))return;const N=(x=he.split("_")[1])==null?void 0:x.trim();if(!N)return;const d=Mn.name+"_"+N;if(!(z!=null&&z.trim()))return logseq.provideUI({key:d,slot:ne,reset:!0,template:`
        <button
        class="pomodoro-timer-btn is-start"
        ${In.slotId}="${ne}" 
        ${In.pomoId}="${N}"
        ${In.blockUuid}="${we.uuid}"
        ${In.onClick}="startPomoTimer">
        🍅 START
        </button>
      `});$r({pomoId:d,slotId:ne,startTime:Rr(z),durationMins:ie?Rr(ie):void 0})},Rr=oe=>{const ne=parseInt(oe);return isNaN(ne)?(console.error("[plugin-test] invalid start time, reset to now"),Date.now()):ne};function $r({pomoId:oe,slotId:ne,startTime:we,durationMins:he}){if(console.debug("render timer ",we,he),!we)return;const z=(he||25)*60,ie=`${logseq.baseInfo.id}--${oe}`,N=()=>logseq.App.queryElementById(ie);function d(x){const T=Date.now(),O=Math.floor((T-we)/1e3),I=z<O,V=()=>{const p=z-O,g=Math.floor(p/60),y=p%60;return`${(g<10?"0":"")+g}:${(y<10?"0":"")+y}`},v=()=>logseq.provideUI({key:oe,slot:ne,reset:!0,template:`
      ${I?`<a class="pomodoro-timer-btn is-done">
          🍅 ✅
        </a>`:`<a class="pomodoro-timer-btn is-pending">
          🍅 ${V()}
        </a>`}
    `});Promise.resolve(x||N()).then(p=>{p&&(v(),!I&&setTimeout(()=>{d(!1)},1e3))})}d(!0)}const ri={startPomoTimer:async oe=>{var x;console.debug("e on model hook:",oe);const{pomoId:ne,slotId:we,blockUuid:he}=oe.dataset,z=await logseq.Editor.getBlock(he);console.debug("block",z);const ie=Date.now(),N=`{{renderer :${Mn.name}_${ne}`,d=(x=z==null?void 0:z.content)==null?void 0:x.replace(`${N}}}`,`${N},${ie}}}`);d&&(await logseq.Editor.updateBlock(he,d),$r({pomoId:ne,slotId:we,startTime:ie}))}},oi=`
.pomodoro-timer-btn {
   border: 1px solid var(--ls-border-color); 
   white-space: initial; 
   padding: 2px 4px; 
   border-radius: 4px; 
   user-select: none;
   cursor: default;
   display: flex;
   align-content: center;
}

.pomodoro-timer-btn.is-start:hover {
  opacity: .8;
}

.pomodoro-timer-btn.is-start:active {
  opacity: .6;
}

.pomodoro-timer-btn.is-start {
  padding: 3px 6px;
  cursor: pointer;
}

.pomodoro-timer-btn.is-pending {
  padding-left: 6px;
  width: 84px;
  background-color: #f6dbdb;
  border-color: #edbdbd;
  color: #cd3838;
}

.pomodoro-timer-btn.is-done {
  width: auto;
  background-color: #defcf0;
  border-color: #9ddbc7;
  color: #0F9960;
}
`,ii=()=>Math.random().toString(36).replace(/[^a-z]+/g,"").slice(0,5);async function si(){logseq.provideModel(ri),logseq.provideStyle(oi),logseq.App.onMacroRendererSlotted(ni),logseq.Editor.registerSlashCommand("🪟 Live Table",async()=>{await logseq.Editor.insertAtEditingCursor(Mn.slotText({pomoId:ii()}))})}logseq.ready(si).catch(console.error);
